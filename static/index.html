<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trends in Cinema</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="assets/favicon.png" type="image/png">
    <script src="lib/matter.min.js"></script>
    <script src="lib/chart.js"></script>
    <script src="lib/plotly.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <!-- Основной контейнер -->
    <main class="container">
        <!-- Заголовок -->
        <section id="header" class="section">
            <div class="row">
                <div class="col-12">
                    <h1 class="title top-title">TRENDS IN</h1>
                    <h1 class="title cinema-title">CINEMA</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <p class="description-text">We analyzed film industry to find out what's rulling it – is it genres, actors, or budget, that turn movies into blockbusters?</p>
                </div>
            </div>
        </section>

        <!-- Методология сбора данных -->
        <section id="methodology" class="section">
            <div class="row">
                <div class="col-12">
                    <div class="method-content">
                        <div class="we-text-container">
                            <h2 class="we-text">
                                <span class="we-part">WE'</span>
                                <span class="ve-part">ve</span>
                            </h2>
                        </div>
                        <div class="method-items-container">
                            <p class="method-item">bypassed robot.txt</p>
                            <p class="method-item">analyzed json metadata</p>
                            <p class="method-item">ran 1000 Claude requests</p>
                            <p class="method-item">fabricated GraphQL queries</p>
                            <p class="method-item">used automatic browser emulation</p>
                            <p class="method-item">been putting laptops at work for night and day</p>
                            <h2 class="scrap-text">to scrap IMDb</h2>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Статистика -->
        <section id="statistics" class="section">
            <div class="row">
                <div class="col-12">
                    <div class="stats-header">
                        <div class="stats-left">
                            <span class="stats-text">we</span>
                            <span class="stats-text">processed</span>
                        </div>
                        <div class="stats-right">
                            <span class="stats-number">4000</span>
                            <div class="films-container">
                                <span class="stats-text">films</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-10 col-offset-1">
                    <div class="stats-circles" id="physics-container">
                        <div class="circle-item" data-circle="ranked">
                            <img src="assets/ranked.svg" alt="Ranked">
                        </div>
                        <div class="circle-item" data-circle="count">
                            <img src="assets/6000.svg" alt="6000">
                        </div>
                        <div class="circle-item" data-circle="actors">
                            <img src="assets/actors.svg" alt="Actors">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Time Interval Section -->
        <section id="time-interval" class="section">
            <div class="row">
                <div class="col-5">
                    <p class="description-text">We focused on films released at least from 90s to capture modern cinema trends</p>
                </div>
            </div>
            <div class="row full-width-row">
                <div class="full-width-container">
                    <div class="years-container">
                        <svg class="years-svg" viewBox="0 0 1000 500" preserveAspectRatio="xMidYMid slice">
                            <!-- Define a mask for the quasar effect -->
                            <defs>
                                <mask id="quasar-mask">
                                    <!-- The quasar fill as white (visible) in mask -->
                                    <path id="quasar-mask-path" d="M0,250 L1000,250 L1000,250 L0,250 Z" fill="white" />
                                </mask>
                                <!-- Define gradient for quasar fill -->
                                <linearGradient id="quasarGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#fff700;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#84ff00;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            
                            <!-- Define invisible lines that drive the animation -->
                            <line id="static-line" x1="0" y1="250" x2="1000" y2="250" stroke="transparent" stroke-width="0" />
                            <line id="rotating-line" x1="0" y1="250" x2="1000" y2="250" stroke="transparent" stroke-width="0" />
                            
                            <!-- Quasar fill between the lines with gradient -->
                            <path id="quasar-fill" d="M0,250 L1000,250 L1000,250 L0,250 Z" fill="url(#quasarGradient)" class="quasar-effect" />
                            
                            <!-- Time SVG image with mask applied -->
                            <image href="assets/time.svg" width="100%" height="100%" mask="url(#quasar-mask)"/>
                        </svg>
                    </div>
                </div>
            </div>
        </section>

        <!-- Filters Section -->
        <section id="filters" class="section">
            <div class="row">
                <div class="col-5">
                    <p class="description-text">We filtered out the following categories to focus on actual theatrical films:</p>
                </div>
            </div>
            <div class="row full-width-row">
                <div class="full-width-container">
                    <div class="filters-container">
                        <div class="filter-item" data-filter="tv-shows">
                            <div class="filter-text">TV-SHOWS</div>
                            <div class="filter-line"></div>
                        </div>
                        <div class="filter-item" data-filter="documentaries">
                            <div class="filter-text">DOCUMENTARIES</div>
                            <div class="filter-line"></div>
                        </div>
                        <div class="filter-item" data-filter="short-films">
                            <div class="filter-text">SHORT FILMS</div>
                            <div class="filter-line"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Визуализация данных -->    
        
        <section id="visualization-0" class="section visualization-section">
            <div class="row">
                <div class="col-12">
                    <h2 class="viz-question">HOW DO RATINGS DISTRIBUTE ACROSS GENRES?</h2>
                    <iframe src="/animated_ratings" width="100%" height="600" frameborder="0" style="border-radius: 12px;"></iframe>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">
                             Viewers rarely give extreme ratings. Keep in mind that the average IMDb score is around 6.5, not 5.0
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="visualization-stacked-ratings" class="section visualization-section">
            <div class="row">
                <h2 class="viz-question">AVERAGE IMDb AND METASCORE BY GENRE</h2>
            </div>
            <div class="row">
                <div class="col-12">
                        <div id="stackedRatingChart"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">
                            Average ratings vary across genres, both for IMDb and Metascore
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="visualization-5" class="section visualization-section">
            <div class="row">
                <div class="col-12">
                    <h2 class="viz-question">HOW DO AUDIENCE AND CRITIC RATINGS ALIGN?</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="viz-container">
                        <canvas id="imdbMetascoreChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">IMDb and Metascore are closely aligned (correlation: 0.72), with profitable films often rated higher. Still, box office doesn't always reflect true success</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="visualization-radar" class="section visualization-section">
            <div class="row">
                <h2 class="viz-question">BUDGET VS BOX OFFICE </h2>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="radarChart"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">
                            When judging quality by budget or box office, the film's genre must be considered
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="visualization-imdb-trends" class="section visualization-section">
            <div class="row">
                <h2 class="viz-question">HOW HAVE IMDb RATINGS CHANGED OVER TIME?</h2>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="imdbTrendChart" style="width:100%;height:600px;"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">The percentage of blockbusters is decreasing every year (especially in the 21st century)</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="visualization-2" class="section visualization-section">
            <div class="row">
                <div class="col-12">
                    <h2 class="viz-question">WHICH DECADE HAD THE MOST HITS?</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="viz-container">
                        <canvas id="decadeChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">Older films tend to have higher average ratings, which is worth considering</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="visualization-budget-box" class="section visualization-section">
            <div class="row">
                <h2 class="viz-question">BUDGET VS BOX OFFICE</h2>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="viz-container">
                        <canvas id="budgetBoxOfficeChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">Most films fall into the category where box office is less than 2x the budget, but high-budget hits (>$100M) often achieve significant returns.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="visualization-genre-revenue" class="section visualization-section">
            <div class="row">
                <h2 class="viz-question">TOP 5 GENRES BY AVERAGE BOX OFFICE</h2>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="viz-container" style="height: 500px;"> <!-- Adjusted height for bar chart -->
                        <canvas id="genreChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">Action and Adventure dominate the box office, reflecting audience preference for spectacle.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="visualization-top-actors" class="section visualization-section">
            <div class="row">
                <h2 class="viz-question">TOP 5 ACTORS BY TOTAL BOX OFFICE</h2>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="viz-container" style="height: 500px;"> <!-- Adjusted height for horizontal bar chart -->
                        <canvas id="actorChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="insight-box">
                        <p class="insight-text">Established actors associated with major franchises significantly boost a film's financial success.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script src="script.js"></script>
</body>
</html>
